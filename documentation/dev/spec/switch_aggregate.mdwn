# Specs for get aggregate ports of switch ports

In agent, have these new nodes for networkports : 

>        <PORT>
>          <AGGREGATE>
>            <PORT>10001</PORT>
>            <PORT>10002</PORT>
>          </AGGREGATE>
>          <IFDESCR>Port-channel10</IFDESCR>
>          <IFINERRORS>0</IFINERRORS>
>          <IFINOCTETS>1076823325</IFINOCTETS>
>          <IFINTERNALSTATUS>1</IFINTERNALSTATUS>
>          <IFLASTCHANGE>15 days, 23:20:53.24</IFLASTCHANGE>
>          <IFMTU>1500</IFMTU>
>          <IFNAME>Po10</IFNAME>
>          <IFNUMBER>5010</IFNUMBER>
>          <IFOUTERRORS>0</IFOUTERRORS>
>          <IFOUTOCTETS>2179528910</IFOUTOCTETS>
>          <IFSPEED>4294967295</IFSPEED>
>          <IFSTATUS>1</IFSTATUS>
>          <IFTYPE>53</IFTYPE>
>          <MAC>c4:64:13:8c:7e:b5</MAC>
>        </PORT>

so add 

>          <AGGREGATE>
>            <PORT>10001</PORT>
>            <PORT>10002</PORT>
>          </AGGREGATE>

where 10001 is the physical networkport index number


## Cisco

See: <http://www.cisco.com/en/US/docs/switches/lan/catalyst6500/ios/12.1E/native/command/reference/C1.html>
See: <http://en.wikipedia.org/wiki/Link_Aggregation_Control_Protocol#Link_Aggregation_Control_Protocol>

Ports of an aggregation:

>             [5005] => Array
>                 (
>                     [ifdescr] => Port-channel5
>                     [ifinerrors] => 0
>                     [ifinoctets] => 0
>                     [ifinternalstatus] => 1
>                     [iflastchange] => 185 days, 09:42:08.04
>                     [ifmtu] => 1500
>                     [name] => Po5
>                     [logical_number] => 5005
>                     [ifouterrors] => 0
>                     [speed] => 10000000
>                     [iftatus] => 2
>                     [iftype] => 53
>                     [mac] => 
>                     [trunk] => 0
>                     [ifspeed] => 10000000
>                 )

### LACP (Link Aggregation Control Protocol)

Oids to get physical ports of thie aggregation port are:

> 1.2.840.10006.300.43.1.1.1.1.6

result:

> 1.2.840.10006.300.43.1.1.1.1.6.5005 = INTEGER: 65

and oid

> 1.2.840.10006.300.43.1.2.1.1.4

result:

> 1.2.840.10006.300.43.1.2.1.1.4.10017 = INTEGER: 0
> 1.2.840.10006.300.43.1.2.1.1.4.10018 = INTEGER: 5
> 1.2.840.10006.300.43.1.2.1.1.4.10019
>  = INTEGER: 5


### Cisco own protocol PAgP (Port Aggregation Protocol) 

> 1.3.6.1.4.1.9.9.98.1.1.1.1.5

result: 

> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10016 = INTEGER: 4
> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10017 = INTEGER: 4
> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10018 = INTEGER: 0
> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10019 = INTEGER: 0
> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10020 = INTEGER: 6
> 1.3.6.1.4.1.9.9.98.1.1.1.1.5.10021 = INTEGER: 6

the value is the port-channel number

> ifDescr.5004 = STRING: Port-Channel4
> ifDescr.5006 = STRING: Port-Channel6


## HP

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Physical ports:
 
> .1.3.6.1.2.1.2.2.1.2.29 = STRING: Ten-GigabitEthernet1/0/23
> .1.3.6.1.2.1.2.2.1.2.30 = STRING: Ten-GigabitEthernet1/0/24

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aggregate port:

> .1.3.6.1.2.1.2.2.1.2.33 = STRING: Bridge-Aggregation1

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aggregate port type

> .1.3.6.1.2.1.2.2.1.3.33 = INTEGER: ieee8023adLag(161)

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List of physical ports and get on which aggregate port is connected

>.1.2.840.10006.300.43.1.2.1.1.13.29 = INTEGER: 33

>.1.2.840.10006.300.43.1.2.1.1.13.30 = INTEGER: 33

So port Bridge-Aggregation1 is an aggregate of ports Ten-GigabitEthernet1/0/23 & Ten-GigabitEthernet1/0/24

## Alcatel
