# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2012-09-21 12:35+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#, no-wrap
msgid "#!/usr/bin/perl\n"
msgstr ""

#. type: Plain text
msgid "use strict; use warnings;"
msgstr ""

#. type: Plain text
msgid "use XML::Twig; use Data::Dumper;"
msgstr ""

#. type: Plain text
msgid "use LWP::Simple; use File::Basename;"
msgstr ""

#. type: Plain text
msgid "use Encode;"
msgstr ""

#. type: Plain text
#, no-wrap
msgid "my $twig = XML::Twig->new(\n"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"    twig_handlers => {\n"
"        item => sub {\n"
"            next unless $_->first_child('wp:post_type')->text eq 'post';\n"
"            my $title = encode('utf8', $_->first_child('title')->text);\n"
"die unless $_->first_child('wp:post_date')->text =~ "
"/(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d).*\\s/;\n"
"my $mdir = \"$1/$2\";\n"
"my $dir = \"$1/$2/$3\";\n"
"system(\"mkdir\", \"-p\", $dir);\n"
"my $filename = $title;\n"
"$filename =~ s/[^0-9\\s\\w\\.\\+]//g;\n"
"$filename =~ s/\\s+/_/g;\n"
msgstr ""

#. type: Plain text
msgid "print \"$filename\\n\";"
msgstr ""

#. type: Plain text
#, no-wrap
msgid "my $day = $_->first_child('wp:post_date')->text;\n"
msgstr ""

#. type: Plain text
#, no-wrap
msgid "#$day =~ s/\\s.*//;\n"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"open F, \">$dir/$filename.mdwn\" or die;\n"
"print F \"[[!meta  date=\\\"\".$day.\"\\\"]]\\n\";\n"
"print F \"# $title\\n\\n\";\n"
"            my $content = encode('utf8', "
"$_->first_child('content:encoded')->text);\n"
msgstr ""

#. type: Title #
#, no-wrap
msgid "print \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n----before\\n$content\\n\\n\";"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"            {\n"
"                local $/ = undef;\n"
"                $content =~ s/\\s+<li>(.*?)<\\/li>/* $1\\n/gi;\n"
"                $content =~ s/\\s+<h2>(.*?)<\\/h2>/\\n\\n## $1\\n/gi;\n"
msgstr ""

#. type: Title #
#, no-wrap
msgid "$content =~ s/<(ul|center)>/\\n/gi;"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"                $content =~ s/<[\\/]{0,1}(ul|center|en|)>/\\n/gi;\n"
"                $content =~ s/&gt;/>/gi;\n"
"                $content =~ "
"s/<a\\s+href=[\"']([^\"]+)[\"']\\s*>([^<]+)<\\/a>/[$2]($1)/gi;\n"
"                $content =~ "
"s/<a\\s+href=[\"']([^\"]+)[\"']\\s*(|title=\"([^\"]+)\")\\s*>([^<]*)<\\/a>/[$3.$4]($1)/gi;\n"
"                $content =~ s/\\s+<li>/\\n* /gi;\n"
"                $content =~ s/&nbsp;/\\n/gi;\n"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"            }\n"
"            print \"\\n\\n\\n\\n\\n\";\n"
"            my @t = "
"split(/(http:\\/\\/fusioninventory.org\\/wordpress\\/wp-content\\/uploads[^\\s\\]\\)\"]*)/,$content);\n"
"            foreach (@t) {\n"
"                next unless  /http:\\/\\/fusion/;\n"
"                next if -f $dir.\"/\".basename($_);\n"
"                getstore($_, $dir.\"/\".basename($_));\n"
"            }\n"
"            $content =~ "
"s/http:\\/\\/fusioninventory.org\\/wordpress\\/wp-content\\/uploads\\/$mdir/\\/news\\/$dir/gi;\n"
"            print $content;\n"
"            print F \"$content\\n\";\n"
"          }\n"
"    }\n"
");\n"
msgstr ""

#. type: Plain text
#, no-wrap
msgid ""
"$twig->parsefile(\n"
"  '/home/goneri/download/fusioninventory.wordpress.2012-08-22.xml');  # "
"build it\n"
msgstr ""
